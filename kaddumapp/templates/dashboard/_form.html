{% load static %}
<form method="POST" action="{{ form_action }}">
  {% csrf_token %}
  <div class="form-section-header">Shift Information</div>

  <div class="form-group">
    <label for="job_name">Job Name</label>
    <input type="text" class="form-control" name="job_name" id="job_name" value="{{ dairy_record.job_name }}" required>
  </div>

  <div class="flex-container">
    <div class="form-group col-md-6">
      <label for="date">Date</label>
      <input type="date" class="form-control" name="record_date" id="record_date" placeholder="Date" value="{{ dairy_record.record_date }}">
    </div>

    <div class="form-group col-md-5">
      <label for="shift">Shift</label>
      <select id="shift" name="record_shift" class="form-control">
        <option value="">Choose...</option>
        <option value="dayshift" {% if dairy_record.record_shift == "dayshift" %}selected{% endif %}>Dayshift</option>
        <option value="nightshift" {% if dairy_record.record_shift == "nightshift" %}selected{% endif %}>Nightshift</option>
    </select>
    </div>
  </div>

    <div class="flex-container">
      <div class="form-group col-md-6">
        <label for="client">Client</label>
        <input type="text" class="form-control" id="client" name="client" placeholder="Client Name" value="{{ dairy_record.client }}" required>
      </div>

      <div class="form-group col-md-5">
        <label for="supervisor">Supervisor</label>
        <input type="text" class="form-control" id="supervisor" name="supervisor" placeholder="Supervisor Name"  value="{{ dairy_record.supervisor }}" required>
      </div>
    </div>


    <div class="form-section-header">Day's Activities Discussed</div>
    <div class="form-group">
      <textarea class="form-control" id="activities_discussed" name="activities_discussed" value="{{ dairy_record.activities_discussed }}" rows="3"></textarea>
    </div>

    <div class="form-section-header">Safety Issues Discussed</div>
    <div class="form-group">
      <textarea class="form-control" id="safety_issues_discussed" name="safety_issues_discussed" value="{{ dairy_record.safety_issues_discussed }}" rows="3"></textarea>
    </div>

    <div class="form-section-header">Have Delays Occurred Today As a Result of the Following</div>

    <div class="form-row">
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="access" name="access" {% if dairy_record.access %}checked{% endif %}>
          <label class="form-check-label" for="access">Access</label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="drawings" name="drawings" {% if dairy_record.drawings %}checked{% endif %}>
          <label class="form-check-label" for="drawings">Lack of Drawings</label>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="awaiting_decision" name="awaiting_decision" {% if dairy_record.awaiting_decision %}checked{% endif %}>
          <label class="form-check-label" for="awaiting_decision">Awaiting Decision from Client</label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="poor_weather" name="poor_weather" {% if dairy_record.poor_weather %}checked{% endif %}>
          <label class="form-check-label" for="poor_weather">Poor Weather</label>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="industrialMatters" name="industrial_matters" {% if dairy_record.industrial_matters %}checked{% endif %}>
          <label class="form-check-label" for="industrial_matters">Industrial Matters</label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="awaiting_instruction" name="awaiting_instruction" {% if dairy_record.awaiting_instruction %}checked{% endif %}>
          <label class="form-check-label" for="awaiting_instruction">Awaiting Instruction from Client</label>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="subcontractors" name="subcontractors" {% if dairy_record.subcontractors %}checked{% endif %}>
          <label class="form-check-label" for="subcontractors">Subcontractors</label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="awaiting_materials" name="awaiting_materials" {% if dairy_record.awaiting_materials %}checked{% endif %}>
          <label class="form-check-label" for="awaiting_materials">Awaiting Materials</label>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="rework" name="rework" {% if dairy_record.rework %}checked{% endif %}>
          <label class="form-check-label" for="rework">Re-Work</label>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" name="others" id="others" {% if dairy_record.others %}checked{% endif %}>
          <label class="form-check-label" for="others">Others</label>
        </div>
      </div>
    </div>


    <div class="form-section-header">Details of Delays</div>
    <div class="form-group">
      <textarea class="form-control" id="delay_details" name="delay_details"  value="{{dairy_record.delay_details}}" rows="3"></textarea>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-section-header">Instruction received from client</div>
        <div class="form-group">
          <textarea class="form-control" name="instruction_received" id="instruction_received" value="{{dairy_record.instruction_received}}" rows="3"></textarea>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-section-header">Visitors on the site</div>
        <div class="form-group">
          <textarea class="form-control" name="site_visitor" id="site_visitor"  value="{{dairy_record.site_visitor}}" rows="3"></textarea>
        </div>
      </div>
    </div>

    <div class="form-section-header">Daily Progress and Description of work Performed</div>
    <div class="form-group">
      <textarea class="form-control" name="work_description" id="work_description" rows="3" value="{{dairy_record.work_description}}"></textarea>
    </div>

    <div class="form-section-header">Notes or Comments</div>
    <div class="form-group">
      <textarea class="form-control" name="notes" id="notes" rows="2" value="{{dairy_record.notes}}"></textarea>
    </div>

    <div class="form-section-header">Handover Notes</div>
    <div class="form-group">
      <textarea class="form-control" name="handover_notes" id="handover_notes" rows="3" value="{{dairy_record.handover_notes}}"></textarea>
    </div>

    <div class="form-section-header">Number of Safety Items Completed</div>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th scope="col">Category</th>
          <th scope="col">Number Completed Today</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>JHA</td>
          <td><input type="number" class="form-control" id="jha" name="jha" value="{{dairy_record.jha}}"></td>
        </tr>
        <tr>
          <td>CCC</td>
          <td><input type="number" class="form-control" id="ccc" name="ccc" value="{{dairy_record.ccc}}"></td>
        </tr>
        <tr>
          <td>Take 5</td>
          <td><input type="number" class="form-control" id="take5" name="take5" value="{{dairy_record.take5}}">
          </td>
        </tr>
        <tr>
          <td>Stop Seek</td>
          <td><input type="number" class="form-control" id="stopSeek"  name="stopSeek" value="{{dairy_record.stopSeek}}"></td>
        </tr>

        <thead>
          <tr>
            <th scope="col">Category</th>
            <th scope="col">Number of Personal Onsite</th>
          </tr>
        </thead>
      <tbody>
        <tr>
          <td>Mobilised</td>
          <td><input type="number" class="form-control" id="mobilised" name="mobilised" value="{{dairy_record.mobilised}}"></td>
        </tr>
        <tr>
          <td>Non-Manual</td>
          <td><input type="number" class="form-control" id="non_manual" name="non_manual" value="{{dairy_record.non_manual}}"></td>
        </tr>
        <tr>
          <td>Manual</td>
          <td><input type="number" class="form-control" id="manual" name="manual" value="{{dairy_record.manual}}">
          </td>
        </tr>
        <tr>
          <td>Sub-contractor</td>
          <td><input type="number" class="form-control" id="sub_contractor" name="sub-contractor" value="{{dairy_record.sub_contractor}}" ></td>
        </tr>
        <tr>
          <td>Environmental Incidents</td>
          <td><input type="number" class="form-control" id="environmental_incidents" name="environmental_incidents" value="{{dairy_record.environmental_incidents}}">
          </td>
        </tr>
        <tr>
          <td>Near Misses</td>
          <td><input type="number" class="form-control" id="near_misses" name="near misses" value="{{dairy_record.near_misses}}"></td>
        </tr>
        <tr>
          <td>First Aid</td>
          <td><input type="number" class="form-control" id="first_aid"  name="first aid" value="{{dairy_record.first_aid}}"></td>
        </tr>
        <tr>
          <td>Medically Treated Injury</td>
          <td><input type="number" class="form-control" name="medically_treated_injury" id="medically_treated_injury" value="{{dairy_record.medically_treated_injury}}"></td>
        </tr>
        <tr>
          <td>Loss Time Injury</td>
          <td><input type="number" class="form-control" id="loss time injury" name="loss_time_injury" value="{{dairy_record.loss_time_injury}}"></td>
        </tr>
      </tbody>
    </table>

    <button type="submit" class="form-group btn btn-success col-2" value="submit">Submit</button>
    <a href="{% url 'index' %}" type="submit" class="form-group btn btn-primary col-2" value="back">Cancel</a>

</form>